<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>宝贝</title>
	<Meta http-equiv="Page-Enter" Content="blendTrans(Duration=0.5)">
	<Meta http-equiv="Page-Exit" Content="blendTrans(Duration=0.5)">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="keywords" content="魅客,娱乐，社交">
	<meta name="description" content="">
	<!--<meta http-equiv="X-UA-Compatible" content="edge" /> -->
	<link rel="stylesheet" href="./css/common.css"/>
	<link rel="stylesheet" href="./css/app_head.css"/>
	<link rel="stylesheet" href="./css/baby.css"/>
<!--	<link rel="stylesheet" href="./css/dateBaby.css"/>-->
<link rel="stylesheet" media="screen and (max-width: 800px)" href="./css/dateBabySmall.css"/>
<link rel="stylesheet" media="screen and (min-width: 801px)" href="./css/dateBaby.css"/>
	
	<!--<link rel="stylesheet" href="./css/currentOrder.css" />-->
<link rel="stylesheet" media="screen and (max-width: 800px)" href="./css/currentOrderSmall.css"/>
<link rel="stylesheet" media="screen and (min-width: 801px)" href="./css/currentOrder.css"/>
	<!--<link rel="stylesheet" type="text/css" href="./css/historyOrder.css"/>-->
	<link rel="stylesheet" type="text/css" href="./css/concern.css"/>
	<link rel="stylesheet" href="./css/login.css">
	<link rel="stylesheet" media="screen and (max-width: 800px)" href="./css/loginSmall.css"/>
	<link rel="stylesheet" media="screen and (min-width: 801px)" href="./css/login.css"/>
	<!--<link rel="stylesheet" media="screen and (max-width: 800px)" href="./css/historyOrderSmall.css"/>-->
	<link rel="stylesheet" media="screen and (min-width: 801px)" href="./css/historyOrder.css"/>
	<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<!--<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>-->
		<script src="js/jquery-1.11.3.js"></script>
	<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<style>
	@media (max-width: 768px) { 
		#search-btn {
			    width: 23px;
			    height: 23px;
			    background: url(images/search-btn.png) no-repeat;
			    position: absolute;
			    top: 8px;
			    right: 20px;
			}
			 .navbar-default .navbar-nav>li>a:hover{	
							color: #fff34c;
					}	
				.navbar-default .navbar-nav>li>a:focus{
					   color: #fff34c;
					}
				
				.form-group{
						position: relative;
						box-sizing:border-box;
					}
			.more{
					text-align: right;
				}
				.img{
					position: relative;
				}
		
				.box{
					position:relative;
					margin: 0;
					padding: 0;
				}
				.detail{
					position: absolute;
					top:0;
					background: yellow;
				}
				.date_btn {
					    position: absolute;
					    width: 30px;
					    height: 40px;
					    background: #bd99ff;
					    border-radius: 0 0 6px 6px;
					    top: 0px;
					    right: 20px;
					    cursor: pointer;
					    z-index: 1000;
					    line-height: 40px;
					    font-size:13px;
					}
					
					.concern_btn {
					    width: 90px;
					    height: 30px;
					    padding-left: 34px;
					    background: url(images/concern.png) no-repeat 12px center;
					    cursor: pointer;
					    color: white;
					    font-size: 18px;
					}
		.concern {
			    width: 90px;
			    height: 30px;
			    background: #FF8180;
			    position: absolute;
			    right: 0;
			    bottom: 20px;
			    z-index: 10;
			    border-radius: 13px 0 0 13px;
			}
			.concern_btn2 {
			    width: 91px;
			    height: 30px;
			    border-radius: 13px 0 0 13px;
			    background: #644863;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			    padding-left:20px;
			}
			.baby_title{
				color:#E7E1CD;
			}
			.Anymore{
				display: block;
				margin-top: 10px;
				color:#000000;
			}
		 }
		
			@media (min-width: 768px){
   				#search-btn {
			    width: 23px;
			    height: 23px;
			    background: url(images/search-btn.png) no-repeat;
			    position: absolute;
			    top: 8px;
			    right: 20px;
			}
			
			 .navbar-default .navbar-nav>li>a:hover{
							
							color: #fff34c;
					}	
				.navbar-default .navbar-nav>li>a:focus{
					   color: #fff34c;
					}
					.form-group{
						position: relative;
						box-sizing:border-box;
					}
					.mes-wrap {
							    width: 118px;
							    position: absolute;
							    right: 0px;
							    top:0;
							}
					.more{
						text-align: right;
					}
					.img{
						position: relative;
					}
					
					.box{
						position:relative;
						margin: 0;
						padding: 0;
					}
					.detail{
						position: absolute;
						bottom:0;
						display: none;
						 height: 180px;
						-webkit-box-sizing: border-box;
						-moz-box-sizing: border-box;
						box-sizing: border-box;
						padding: 20px;
						background: #BD99FE;
						border-radius: 0 0 6px 6px;
						color: #fff;
						text-align: left;	
					}
					
				 .date_btn {
				    position: absolute;
				    width: 40px;
				    height: 50px;
				    background: #bd99ff;
				    border-radius: 0 0 6px 6px;
				    top: 0px;
				    right: 80px;
				    cursor: pointer;
				    z-index: 1000;
				    line-height: 60px;
				    
				}
   			.concern_btn {
			    width: 90px;
			    height: 30px;
			    padding-left: 34px;
			    background: url(images/concern.png) no-repeat 12px center;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			}
		.concern {
			    width: 90px;
			    height: 30px;
			    background: #FF8180;
			    position: absolute;
			    right: 34px;
			    bottom: 20px;
			    z-index: 10;
			    border-radius: 13px 0 0 13px;
			}
			.concern_btn2 {
			    width: 91px;
			    height: 30px;
			    border-radius: 13px 0 0 13px;
			    background: #644863;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			    padding-left:20px;
			}
			.row{
				margin: 13px 10px;
			}
			.babyHomeContent{
				width: 730px;
				margin: 0 auto;
				background: #fff;
				border-radius:6px ;
		}
		.Anymore{
			display: block;
			margin-top: 10px;
		}
   		 }
   		  @media (min-width: 992px){
   		  	.mes-wrap {
					width: 118px;
					position: absolute;
					right: 0px;
					top: 0px;
							}
		.more{
				text-align: right;
				}
		.img{
			position: relative;
		}
		
		.box{
			position:relative;
			margin: 0;
			padding: 0;
		}
		.date_btn {
			    position: absolute;
			    width: 50px;
			    height: 60px;
			    background: #bd99ff;
			    border-radius: 0 0 6px 6px;
			    top: 0px;
			    right: 20px;
			    cursor: pointer;
			    z-index: 1000;
			    line-height: 60px;
			}		
			.concern_btn {
			    width: 90px;
			    height: 30px;
			    padding-left: 34px;
			    background: url(images/concern.png) no-repeat 12px center;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			}
		.concern {
			    width: 90px;
			    height: 30px;
			    background: #FF8180;
			    position: absolute;
			    right: 0;
			    bottom: 20px;
			    z-index: 10;
			    border-radius: 13px 0 0 13px;
			}
			.concern_btn2 {
			    width: 91px;
			    height: 30px;
			    border-radius: 13px 0 0 13px;
			    background: #644863;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			    padding-left:20px;
			}
			.row{
				margin: 13px 10px;
			}
			.babyHomeContent{
				width: 970px;
				margin: 0 auto;
				background: #fff;
				border-radius:6px ;
		}
		.Anymore{
			display: block;
			margin-top: 10px;
		}
   		  }
		@media (min-width: 1200px){
			.container {
			    width: 1200px !important;
			    padding: 0;
			    position: relative;
			}
			navbar.less:380
		
			.collapse {
				padding: 0;
			}
			.row{
				margin: 13px 10px;
			}
			.nav>li>a {
			    position: relative;
			    display: block;
			    width: 165px;
			    height: 110px;
			    line-height: 95px;
			}
			
			  .form-control::-webkit-input-placeholder, textarea::-webkit-input-placeholder { 
						color: #fff; 
						} 
						.form-control:-moz-placeholder, textarea:-moz-placeholder { 
						color: #fff; 
						} 
						.form-control::-moz-placeholder, textarea::-moz-placeholder { 
						color: #fff; 
						} 
						.form-control:-ms-input-placeholder, textarea:-ms-input-placeholder { 
						color: #fff; 
						} 
					.navbar-default{
						background: none;
						border:none;
					}
					.navbar-default .navbar-nav>li>a{
						        color: #fff;
						        font-size: 22px;
						}
				
				.navbar-default .navbar-nav>li>a:hover{
					font-size: 26px;
					color: #fff34c;
					}	
			/*	.navbar-default .navbar-nav>li>a:focus{
					   color: #fff34c;
					   font-size: 26px
					}*/
					 .form-control {
				   		 	width: 240px !important;
				    		height: 40px;
				   		 	background: none;
						    border: 1px solid #ccc;
						   	border-radius: 30px;
						   	color:black;
						   	margin-top:40px ;
		   				}
						.form-group{
							position: relative;
							box-sizing:border-box;
						}	
					#search-btn {
						    width: 23px;
						    height: 23px;
						    background: url(images/search-btn.png) no-repeat;
						    position: absolute;
						    top: 48px;
						    right: 20px;
						}
						.mes-wrap {
							    width: 118px;
							    position: absolute;
							    right: -25px;
							    top: 40px;
							}
							
						.more{
							text-align: right;
						}
						.img{
							position: relative;
						}
		
					.box{
						position:relative;
						margin: 0;
						padding: 0;
					}
				.detail{
					position: absolute;
					top:177px;
					display: none;
					 height: 190px;
					-webkit-box-sizing: border-box;
					-moz-box-sizing: border-box;
					box-sizing: border-box;
					padding: 20px;
					background: #BD99FE;
					border-radius: 0 0 6px 6px;
					color: #fff;
					text-align: left;
					font-size: 16px;				
				}
		
		 .date_btn {
			    position: absolute;
			    width: 50px;
			    height: 60px;
			    background: #bd99ff;
			    border-radius: 0 0 6px 6px;
			    top: 0px;
			    right: 20px;
			    cursor: pointer;
			    z-index: 1000;
			    line-height: 60px;
			}
			.detail p{
				padding-bottom:5px;
			} 
			 .concern_btn {
			    width: 90px;
			    height: 30px;
			    padding-left: 34px;
			    background: url(images/concern.png) no-repeat 12px center;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			}
		.concern {
			    width: 90px;
			    height: 30px;
			    background: #FF8180;
			    position: absolute;
			    right: 0;
			    bottom: 6px;
			    z-index: 10;
			    border-radius: 13px 0 0 13px;
			}
			.concern_btn2 {
			    width: 91px;
			    height: 30px;
			    border-radius: 13px 0 0 13px;
			    background: #644863;
			    cursor: pointer;
			    color: white;
			    font-size: 18px;
			    padding-left:20px;
			    line-height: 30px;
			}
			
			.babyHomeContent{
			width: 1200px;
			margin: 0 auto;
			background: #fff;
			border-radius:6px ;
		}
		.Anymore{
			display: block;
			margin-top: 10px;
		}
		.active{
			font-size: 26px!important;
			color: #fff34c!important;
		}
		
		.sisterImg{
				width: 275px;
    			height: 366px;
    			border-radius: 6px;
			}
			
		.nicheng{
			font-size:19px;
		}	
		.per-baby{
			position: relative;
    /* height: 180px; */
   			height:auto;
		    background: #fafafa;
		    padding: 20px 0 20px 20px;
		    border-bottom: 1px solid #e6e6e6;
		}
	
					}	
					
		.more{
			text-align: right;
		}
		.img{
			position: relative;
		}
		
		.box{
			position:relative;
			margin: 0;
			padding: 0;
		}
		.detail{
			position: absolute;
			top:188px;
			display: none;
			 height: 180px;
			-webkit-box-sizing: border-box;
			-moz-box-sizing: border-box;
			box-sizing: border-box;
			padding: 20px;
			background: #BD99FE;
			border-radius: 0 0 6px 6px;
			color: #fff;
			text-align: left;	
		}
		.good_baby li:hover{
			 border-radius: 6px;
			 box-shadow: 0 0 5px rgba(0,0,0,0.5); 
		}
			.good_baby li:hover .detail{
				display: block;
			}
		
	</style>

</head>
<body ng-app="makeBaby">
	<ui-view></ui-view>	

<!--	<script type="text/javascript" src="http://code.angularjs.org/1.2.9/angular.min.js">
	</script>
	<script type="text/javascript" src="http://code.angularjs.org/1.2.9/angular-cookies.min.js">
	</script>-->
	<script src="js/angular.min.js"></script>
	<script src="js/angular-ui-router.js"></script>

<script src='js/angular-cookies.min.js'></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js"></script>
<script src="js/infinite-scorll.js"></script>
<!--<script type="text/javascript" src="js/placeHolderIe.js">-->
</script>
	
	<script>
	
$(document).ready(function(){ 
	/*$('a').focus(function(){this.blur()});*/
	setTimeout(function(){
		var doc=document,
    inputs=doc.getElementsByTagName('input'),
    supportPlaceholder='placeholder'in doc.createElement('input'),
    
    placeholder=function(input){
     var text=input.getAttribute('placeholder'),
     defaultValue=input.defaultValue;
     if(defaultValue==''){
        input.value=text
        input.style.color="gray"
     }
     input.onfocus=function(){
        if(input.value===text)
        {
            this.value=''
        }
      };
     input.onblur=function(){
        if(input.value===''){
            this.value=text
        }
      }
  };
  
  if(!supportPlaceholder){
     for(var i=0,len=inputs.length;i<len;i++){
          var input=inputs[i],
          text=input.getAttribute('placeholder');
          if(input.type==='text'&&text){
             placeholder(input)
          }
      }
  }
	},100)
   
 });
	
	var rootSize=window.innerWidth/37.5
	console.log(rootSize)
	var dec=window.document.documentElement;
	dec.style.fontSize = rootSize + 'px';
	
	
		var makeBaby=angular.module('makeBaby',['ui.router','ngCookies','infinite-scroll'])
		.run(function($rootScope, $state, $stateParams){
			$rootScope.$stateParams = $stateParams;
			$rootScope.concerStatus="关注";
			$rootScope.apiUrl="http://118.178.227.195:8082/meike-web"
			/*$rootScope.apiUrl="http://192.168.2.197:8080/meike-web"*/
			$rootScope.MoreBabyInfoArr=[]
		})
		/*页面路由配置*/
		/*.config(['$httpProvider', function($httpProvider) {
		  $httpProvider.defaults.withCredentials = true;
		}])*/
		.config(function($stateProvider,$urlRouterProvider){
			$urlRouterProvider.otherwise('/Navbar/babyHome');
			$stateProvider
			.state('Navbar',{
		        url:'/Navbar',
		        templateUrl:'./template/Navbar.html',
		       	controller:'NavbarController'

     		})
			.state('Navbar.babyHome',{
		        url:'/babyHome',
		        templateUrl:'./template/babyHome.html',
		        controller:'babyHomeController'
		        
     		 })
			.state('Navbar.attention',{
		        url:'/attention',
		        templateUrl:'./template/attention.html',
		        controller:'attentionController'
     		 })
			.state('Navbar.newOrder',{
		        url:'/newOrder',
		        templateUrl:'./template/newOrder.html',
		        controller:'newOrderController'
     		 })
			.state('Navbar.oldOrder',{
		        url:'/oldOrder',
		        templateUrl:'./template/oldOrder.html',
		        controller:'oldOrderController'
     		 })
			.state('Navbar.yueBao',{
		        url:'/yueBao',
		        params : {//跳转设置参数
					sisterName:'555'
				},
		        templateUrl:'./template/yueBao.html',
		        controller:'yueBaoController'
     		 })
			.state('Navbar.babyMore',{
		        url:'/babyMore',
		        params:{
		        	moreBaby:''
		        },
		        templateUrl:'./template/babyMore.html',
		        controller:'babyMoreController'
     		 })
			.state('Navbar.babyInfoDetail',{
		        url:'/babyInfoDetail/:id',
		        templateUrl:'./template/babyInfoDetail.html',
		        controller:'babyInfoDetailController'
     		 })
		})
		.controller('NavbarController',function($scope,$rootScope,$cookies,$window,$state,$interval,$http){
		
			if($cookies.get("userPhone")){//如果在cookie里获取到登陆名 代表已经登陆
				$scope.hadLogin=true;
				$scope.LoginStatus=false;		//右上角的未登录，显示成账号名
			}else{
				$scope.hadLogin=false;
				$scope.LoginStatus=true;       //没有就显示未登录
			}
			if($cookies.get("userPhone")){
				$scope.userPhoneId=$cookies.get("userPhone").substr(0,3)+"****"+$cookies.get("userPhone").substr(7,10) 
			}
			if($cookies.get("userPhoto")){
				$rootScope.userPhoto=$cookies.get("userPhoto"); 
			}
			 //双向数据绑定，显示位置的登录名显示为userId
			$rootScope.navbarStop=true;
			$rootScope.LoginStop=false;
			var reg=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;
			var phoneStop=false;
			var verifyStop=false;
			var phoneNum='';
			var timeInterval=null;
			var timer;
			
			
			var phoneNumber=$scope.phoneNumb;
			$rootScope.phoneNumb=phoneNumber;
			console.log($scope.phoneNumb)
			//phoneNum=$scope.phoneNumb;
			$rootScope.getCodebtn="获取验证码"
				//$cookies.put("userId",4444);
			$scope.checkNumb=function(){//手机号输入框 失去焦点 运行函数
				$rootScope.phoneNumb=$scope.phoneNumb;
				if(reg.test($scope.phoneNumb)){
					$scope.phoneEmptyRemind=false;
					$scope.phoneRemind=false;
					phoneStop=true;
				}else{
					//alert($scope.phoneNumb)
					if(!$scope.phoneNumb){
						$scope.phoneRemind=false;
						$scope.phoneEmptyRemind=true;
						phoneStop=false;
					}else{
						$scope.phoneEmptyRemind=false;
						$scope.phoneRemind=true;
						phoneStop=false;
					}
					
				}
			}	
			
			$scope.getMessage=function(){//获取验证码按钮
				var regStop=reg.test($scope.phoneNumb);
				var Second=60;
				if(regStop){	
					if($rootScope.getCodebtn=="获取验证码"||$rootScope.getCodebtn=="重新获取"){
					$rootScope.getCodebtn=Second+'s';
						timer=$interval(function(){
						Second--;
						$rootScope.getCodebtn=Second+'s';
						if(Second==0){
							$rootScope.getCodebtn="重新获取";		
							$interval.cancel(timer);
						}
					},1000)
						
				var userPho={"phone":$scope.phoneNumb};
				var userPho1=JSON.stringify(userPho);
				$http({url:$rootScope.apiUrl+'/home/free/sendSmsCode.do',params:{json:userPho1} }).then(function(res){
					console.log(res)
						if(res.data.code==200){
							$scope.Mes=res.data.data.smsCode;
						}
      				})	
						
				}
				
				
			}else{
				if(!$scope.phoneNumb){
					$scope.phoneRemind=false;
					$scope.phoneEmptyRemind=true;
					
				}else{
					$scope.phoneEmptyRemind=false;
					$scope.phoneRemind=true;
				}
				
			}
			
		}//获取验证码结束
		
		$scope.getCode=function(){//验证码输入框 失去焦点 运行函数
			if($scope.Mes){
				if($scope.verifyCode==$scope.Mes){
					$scope.verifyEmptyRemind=false;
					$scope.verifyRemind=false;
					verifyStop=true;
				}else{
					if(!$scope.verifyCode){
						$scope.verifyRemind=false;
						$scope.verifyEmptyRemind=true;
					}else{
						$scope.verifyEmptyRemind=false;
						$scope.verifyRemind=true;
					}
					verifyStop=false;
				}
			}else{
				if(!$scope.verifyCode){
						$scope.verifyRemind=false;
						$scope.verifyEmptyRemind=true;
					}else{
						$scope.verifyEmptyRemind=false;
						$scope.verifyRemind=true;
					}
					verifyStop=false;
				
			}
			}
		$scope.intiveRemind=false;
		$scope.intiveErrRemind=false;
		$scope.checkIntive=function(){	//邀请码输入框 失去焦点
			var userPhoneNum={"phone":$scope.phoneNumb};
			var userPho2=JSON.stringify(userPhoneNum);
			if($scope.inviteCode){
				$http({url:$rootScope.apiUrl+'/home/free/exitBaByCode.do',params:{json:userPho2} }).then(function(res){
					console.log(res)
						if(res.data.code==201){
							$scope.intiveRemind=true;
							//$scope.Mes=res.data.data.smsCode;
						}
      				})
			}
				
			
		}
			
			
			$scope.goLogin=function(){//登录页的登录按钮 如果填的信息正确 登录页消失 首页展示
							var loginParams={
							"phone":$scope.phoneNumb,
							"smsCode":$scope.verifyCode,
							"babyCode":$scope.inviteCode
							}
				  var loginParams=JSON.stringify(loginParams)
				  var expireDate = new Date();
				  expireDate.setDate(expireDate.getDate() + 1);//设置cookie时间
				  // Setting a cookie
				  $cookies.put("userPhone",$scope.phoneNumb,{'expires': expireDate});
				if(phoneStop&&verifyStop){
					//alert($scope.phoneNumb)
					$http({url:$rootScope.apiUrl+'/home/free/login.do',params:{json:loginParams} }).then(function(res){
						console.log(res)
      					if(res.data.code==200){
						$rootScope.babyId=res.data.data.babyId;
						$rootScope.userPhoto=res.data.data.photo;
						$rootScope.userId=res.data.data.userId;
						$cookies.put("userPhone",$scope.phoneNumb,{'expires': expireDate});//设置cookie为登陆的手机号
						$cookies.put("userId",$rootScope.userId, {'expires': expireDate});//设置cookie为登陆的手机号
						$cookies.put("userPhoto",$rootScope.userPhoto,{'expires': expireDate});
						console.log(res.data.data.babyId);
						console.log(res.data.data.photo);
						console.log(res.data.data.userId);
						$state.reload(); 
						$rootScope.navbarStop=true;
	      				$rootScope.LoginStop=false;	
						}else if(res.data.code==202){
							$scope.intiveRemind=false;
							$scope.intiveErrRemind=true;
						}
      				})
						
      				//alert($cookies.get("userPhone"))
      				//var cookies=$cookies.get("userPhone");
      				
				}else{
					if(!phoneStop){
						if(!$scope.phoneNumb){
							$scope.phoneRemind=false;
							$scope.phoneEmptyRemind=true;
		
						}else{
							$scope.phoneEmptyRemind=false;
							$scope.phoneRemind=true;
						}
					}else if(!verifyStop){
							if(!$scope.verifyCode){
							$scope.verifyRemind=false;
							$scope.verifyEmptyRemind=true;
						}else{
							$scope.verifyEmptyRemind=false;
							$scope.verifyRemind=true;
						}
					}
					
				}
			}
			
			$scope.noLogin=function(){//未登录按钮点击显示登录页
				$rootScope.navbarStop=false;
      			$rootScope.LoginStop=true;
      			document.getElementById("phone").focus();
			}
			$scope.exit=function(){//退出按钮
				$rootScope.navbarStop=true;
      			$rootScope.LoginStop=false;
			}
			
			$scope.exitLoginHide=true;//退出登录开始隐藏
			$scope.LoginMouseover=function(){
				$scope.exitLoginHide=false;
			}
			$scope.LoginMouseout=function(){
				$scope.exitLoginHide=true;
			}
			$scope.LoginClick=function(){
				if($scope.exitLoginHide){
					$scope.exitLoginHide=false;
				}else{
					$scope.exitLoginHide=true;
				}	
			}
			$scope.exitLogin=function(){
				$cookies.remove("userPhone");
				$cookies.remove("userId");
				$cookies.remove("userPhoto");
				$state.reload(); 
				
			}
			
    	})
		.controller('babyHomeController',function($scope,$http,$rootScope,$state,$cookies){
			var concernBabyInfo=[];//数组用来装已关注的妹子
			$scope.isConcern=true;
			$rootScope.Stop=false;
			var cookiesUserPhone=$cookies.get("userPhone");
			var cookiesUserId=$cookies.get("userId");
			//alert($rootScope.phoneNumb)
			console.log('userId'+$rootScope.userId)
			//console.log('userId'+$rootScope.userId)
			var goodBabyPageNum=1;
			var hotBabyPageNum=1;
			var newBabyParams=1;
			console.log($rootScope.userId)
			var goodBabyParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone,
				"pageNum":goodBabyPageNum
			}
			var hotBabyParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone,
				"pageNum":hotBabyPageNum
			}
			var newBabyParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone,
				"pageNum":newBabyParams
			}
			$http({url:$rootScope.apiUrl+'/home/free/goodBabyInfo.do',params:{json:goodBabyParams} }).then(function(res){
				console.log(res)
				$rootScope.sistersName=res.data.data;
				var sistersName=$rootScope.sistersName;
				//console.log(res.data.data)
				//console.log(sistersName[1].showIndexImg)	
			})
      		$http({url:$rootScope.apiUrl+'/home/free/hotBabyInfo.do',params:{json:hotBabyParams} }).then(function(res){
				console.log(res)
				$rootScope.hotBabyInfo=res.data.data;
				var hotBabyInfo=$rootScope.hotBabyInfo;
				//console.log(res.data.data)
				//console.log(sistersName[1].showIndexImg)	
			})
      		$http({url:$rootScope.apiUrl+'/home/free/newBabyInfo.do',params:{json:newBabyParams} }).then(function(res){
				console.log(res)
				$rootScope.newBabyInfo=res.data.data;
				var newBabyInfo=$rootScope.newBabyInfo;
				//console.log(res.data.data)
				//console.log(sistersName[1].showIndexImg)	
			})
      	$scope.clickMe=function(sister){
      		var sisterName=sister.name;
      		console.log(sister)
			if (event.preventDefault){  
			  event.preventDefault();  
			}  
			else{  
			   event.returnValue=false;  
			}
      		$state.go('Navbar.yueBao',{sisterName:sisterName})
      	}
      	
      	$scope.clickConcern=function(sister){
      		
      		//concernActive=false;
      		var Stop=$rootScope.Stop;
      		if(!Stop){
      			$rootScope.Stop=true;
      		}else{
      			$rootScope.Stop=false;
      		}
      			if (event.preventDefault){  
				  event.preventDefault();  
				}  
				else{  
				   event.returnValue=false;  
				}
      		//$state.go('login')
      		var getCookie = $cookies.get("userPhone");//获取cookie
      		if(getCookie){
      			//$state.go('Navbar.attention')
      			this.noConcern=true;
      			this.isConcern=false;
      			this.concerStatus="已关注";
      		}else{
      			this.isConcern=true;
      			this.noConcern=false;
	      		$rootScope.navbarStop=false;
	      		$rootScope.LoginStop=true;
	      		//document.getElementById("phone").focus();
      		}
      		
      		concernBabyInfo.name=sister.name;
      		$rootScope.concernBabyName=sister.name;
      		concernBabyInfo.push(sister)//用来装已关注的sisterr
      		//console.log(sister)
      		//console.log(concernBabyInfo)
      		$rootScope.concernBabyInfo=concernBabyInfo;
      	}
      	
      	$scope.getMoreBaby=function(baby){
      		
      		var cookiesUserPhone=$cookies.get("userPhone");
			var cookiesUserId=$cookies.get("userId");
			var goodBabyPageNum=2;
			var hotBabyPageNum=2;
			var newBabyParams=2;
      		var goodBabyParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone,
				"pageNum":goodBabyPageNum
			}
			var hotBabyParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone,
				"pageNum":hotBabyPageNum
			}
			var newBabyParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone,
				"pageNum":newBabyParams
			}
			 
      		console.log(baby)
      		if(baby=="1"){
      			baby="好评宝贝";
      			/*$http({url:$rootScope.apiUrl+'/home/free/goodBabyInfo.do',params:{json:goodBabyParams} }).then(function(res){
				console.log(res)
				$rootScope.MoreBabyInfo=res.data.data;	
				$rootScope.MoreBabyInfoArr=$rootScope.MoreBabyInfo;
				console.log($rootScope.MoreBabyInfoArr)
			})*/
      		}else if(baby=="2"){
      			baby="人气宝贝";
      			$http({url:$rootScope.apiUrl+'/home/free/hotBabyInfo.do',params:{json:hotBabyPageNum} }).then(function(res){
				console.log(res)
				$rootScope.MoreBabyInfo=res.data.data;	
				$rootScope.MoreBabyInfoArr=$rootScope.MoreBabyInfo;
			})
      		}else{
      			baby="新人宝贝";
      			$http({url:$rootScope.apiUrl+'/home/free/newBabyInfo.do',params:{json:newBabyParams} }).then(function(res){
				console.log(res)
				$rootScope.MoreBabyInfo=res.data.data;	
				$rootScope.MoreBabyInfoArr=$rootScope.MoreBabyInfo;
			})
      		}
      		$state.go('Navbar.babyMore',{moreBaby:baby})
      	}
      	
		})
		.controller('attentionController',function($scope){
					
    	})
		.controller('newOrderController',function($scope,$http,$cookies,$rootScope){
			/*var cookiesUserPhone=$cookies.get("userPhone");
			var cookiesUserId=$cookies.get("userId");
			var PresentOrderPageNum=1;
			var PresentOrderParams={
				"userId":cookiesUserId,
				"userPhone":cookiesUserPhone
			}*/
			//$http({url:$rootScope.apiUrl+'/webOrder/atPresentOrder.do',params:{json:PresentOrderParams} }).then(function(res){
				//console.log(res)
				/*$rootScope.newBabyInfo=res.data.data;
				var newBabyInfo=$rootScope.newBabyInfo;
				console.log(res.data.data)*/
				//console.log(sistersName[1].showIndexImg)	
			//})
    	})
		.controller('yueBaoController',function($scope,$rootScope,$stateParams){
			//console.log($stateParams.sisterName)
    	})
		.controller('oldOrderController',function($scope){

    	})
		.controller('babyMoreController',function($scope,$stateParams,$rootScope,$http,$cookies){
				console.log( $stateParams.moreBaby)
				var pagenumb=1;
				$scope.moreBaby=$stateParams.moreBaby;
				console.log($rootScope.MoreBabyInfo)
				var goodBabyParams={
						"userId":$cookies.get("userId"),
						"userPhone":$cookies.get("userPhone"),
						"pageNum":pagenumb
					}
				
			/*	$http({url:$rootScope.apiUrl+'/home/free/goodBabyInfo.do',params:{json:goodBabyParams} }).then(function(res){
				console.log(res)
				$rootScope.MoreBabyInfo=res.data.data;	
				$rootScope.MoreBabyInfoArr=$rootScope.MoreBabyInfo;
				console.log($rootScope.MoreBabyInfoArr)
			})*/
				$scope.myPagingFunction=function(){
					pagenumb++;
					alert(pagenumb)
					$http({url:$rootScope.apiUrl+"/home/free/goodBabyInfo.do",params:{json:goodBabyParams} }).then(function(res){
						$rootScope.MoreBabyInfo1=res.data.data;
						//$rootScope.MoreBabyInfo.push($rootScope.MoreBabyInfo1)
						for(var i=0;i<$rootScope.MoreBabyInfo1.length;i++){
							$rootScope.MoreBabyInfoArr.push($rootScope.MoreBabyInfo1[i])
						}
						console.log($rootScope.MoreBabyInfo1)
						console.log($rootScope.MoreBabyInfoArr)
						$rootScope.MoreBabyInfo=$rootScope.MoreBabyInfoArr;
					})
				}
    	})
		.controller('babyInfoDetailController',function($scope,$stateParams){
			console.log($stateParams.id)
    	})
		
 
	</script>
</body>
</html>